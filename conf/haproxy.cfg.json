{
    "global": [
        "maxconn $MAXCONN",
        "pidfile /var/run/haproxy.pid",
        "user haproxy",
        "group haproxy",
        "daemon"
    ],
    "defaults": [
        "mode $MODE"
    ],
    "frontend": {
        "default_frontend": [
            "bind 0.0.0.0:80",
            "redirect scheme https code 301 if !{ ssl_fc }",
            "bind 0.0.0.0:443 $SSL",
            "default_backend cluster",
            "reqadd X-Forwarded-Proto:\ https:",
            "rspadd Strict-Transport-Security:\ max-age=31536000;\ includeSubDomains if { sslfc }"
        ]
    },
    "backend": {
        "cluster": [
            "balance $BALANCE"
        ]
    }
}
